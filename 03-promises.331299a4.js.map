{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAcC,SAASC,cAAc,SAEvCC,EAAoB,KACpBC,EAAmB,KACnBC,EAAe,KAEfC,EAAQ,KAGZN,EAAYO,iBAAiB,UAE7B,SAAsBC,GACpBA,EAAMC,iBAEN,IAAMC,EAAOF,EAAMG,OACnBR,EAAoBO,EAAKE,SAASC,MAAMC,MACxCV,EAAmBM,EAAKE,SAASG,KAAKD,MACtCT,EAAeK,EAAKE,SAASI,OAAOF,MACpC,IAAIC,EAAOE,OAAOd,GAElBe,YAAW,WACT,IAAMC,EAAgBC,aAAY,WAGhC,IAFAd,GAAS,GAEGD,EAKD,OAJTgB,cAAcF,GACdrB,EAAAwB,OAAOC,QAAQ,uBACGjB,EAAV,OACRkB,QAAQC,IAAI,mBAepB,IAAuBC,EAAUb,EAX3BW,QAAQC,IAAI,sCAA6DE,OAANrB,EAAM,MAWxDoB,EAPHpB,EAOaO,EAPNE,EAQHa,KAAKC,SAAW,IAKpC/B,EAAAwB,OAAOQ,QAAQ,uBAAyCH,OAAhBD,EAAS,SAAaC,OAANd,EAAM,OAC5DW,QAAMC,IAAI,wBAA4CE,OAAlBD,EAAS,WAAeC,OAANd,EAAM,SAG9Df,EAAAwB,OAAOS,QAAQ,sBAAuCJ,OAAfD,EAAS,QAAYC,OAANd,EAAM,OAC1DW,QAAMC,IAAI,uBAA2CE,OAAlBD,EAAS,WAAeC,OAANd,EAAM,QAhB3DE,GAAQE,OAAOb,E,GACdW,E,GACFZ,E,IAmBkB,IAAI6B,SAAQ,SAACC,EAASC,GAC3C,IAAMC,EAAgBP,KAAKC,SAAW,GACtCX,YAAW,WACTM,QAAQC,IAAI,cAERU,EACFF,EAAQ,YAERC,EAAO,S,GAER,I,IAIFE,MAAK,SAAAC,G,IAAGX,EAAQW,EAARX,SAAUb,EAAKwB,EAALxB,MACjBW,QAAQC,IAAI,2BAA8CE,OAAjBD,EAAS,UAAcC,OAANd,EAAM,O,IAEjEyB,OAAM,SAAAD,G,IAAGX,EAAQW,EAARX,SAAUb,EAAKwB,EAALxB,MAClBW,QAAQC,IAAI,yBAA0CE,OAAfD,EAAS,QAAYC,OAANd,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio'; //бібліотека замість alert\n\nconst promiseForm = document.querySelector('.form');\n\nlet VALUE_FIRST_DELAY = null;\nlet VALUE_DELAY_STEP = null;\nlet VALUE_AMOUNT = null;\n\nlet count = null;\n\n//-------------------------------------------------------------\npromiseForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const form = event.target;\n  VALUE_FIRST_DELAY = form.elements.delay.value;\n  VALUE_DELAY_STEP = form.elements.step.value;\n  VALUE_AMOUNT = form.elements.amount.value;\n  let step = Number(VALUE_FIRST_DELAY);\n\n  setTimeout(() => {\n    const setIntervalId = setInterval(() => {\n      count += 1;\n\n      if (count > VALUE_AMOUNT) {\n        clearInterval(setIntervalId);\n        Notify.warning('Припиняємо інтервал');\n        count = 0;\n        console.log('ОБНУЛЯЄМО count');\n        return;\n      }\n\n      console.log(`Викликаємо функцію createPromise: '${count}'`);\n\n      //console.log('STEP::', step);\n\n      createPromise(count, step);\n\n      step += Number(VALUE_DELAY_STEP);\n    }, step);\n  }, VALUE_FIRST_DELAY);\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  // console.log('POSITION:', position);\n  // console.log('DELAY:', delay);\n  if (shouldResolve) {\n    // Fulfill\n    Notify.success(`✅ Fulfilled promise ${position} in  ${delay}ms`);\n    console.log(`✅ Fulfilled promise '${position}' in - ${delay}ms`);\n  } else {\n    // Reject\n    Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    console.log(`❌ Rejected promise '${position}' in - ${delay}ms`);\n  }\n}\n//--------------------------------\n\nconst createPromiseP = new Promise((resolve, reject) => {\n  const shouldResolve = Math.random() > 0.3;\n  setTimeout(() => {\n    console.log('ТУТ ПРОМІС');\n\n    if (shouldResolve) {\n      resolve('Success!');\n    } else {\n      reject('Error!');\n    }\n  }, 5000);\n});\n\ncreatePromiseP\n  .then(({ position, delay }) => {\n    console.log(`✅ '2'Fulfilled promise '${position}' in '${delay}'ms`);\n  })\n  .catch(({ position, delay }) => {\n    console.log(`❌ '2'Rejected promise ${position} in ${delay}ms`);\n  });\n\n//--------------------------------------\n// createPromise(2, 1500)\n//   .then(({ position, delay }) => {\n//     console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n//   })\n//   .catch(({ position, delay }) => {\n//     console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n//   });\n\n//---*-*-*-*-*-*-*--*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-*-------\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$promiseForm","document","querySelector","$ce04d3a99e08e73b$var$VALUE_FIRST_DELAY","$ce04d3a99e08e73b$var$VALUE_DELAY_STEP","$ce04d3a99e08e73b$var$VALUE_AMOUNT","$ce04d3a99e08e73b$var$count","addEventListener","event","preventDefault","form","target","elements","delay","value","step","amount","Number","setTimeout","setIntervalId","setInterval","clearInterval","Notify","warning","console","log","position","concat","Math","random","success","failure","Promise","resolve","reject","shouldResolve","then","param","catch"],"version":3,"file":"03-promises.331299a4.js.map"}