{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAcC,SAASC,cAAc,SAEvCC,EAAoB,KACpBC,EAAmB,KACnBC,EAAe,KAOnB,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAExCC,YAAW,WACLH,EACFF,EAAQ,CAACH,WAAUC,UAEnBG,EAAO,CAACJ,WAAUC,S,GAEnBA,E,IAILR,EAAYgB,iBAAiB,UAE7B,SAAsBC,GACpBA,EAAMC,iBAEN,IAAMC,EAAOF,EAAMG,OAAOC,SAGJlB,EAAFgB,EAAKX,MAAMc,MAC/BlB,EAAmBe,EAAKI,KAAKD,MAC7BjB,EAAec,EAAKK,OAAOF,MAC3B,IAAIC,EAAOE,OAAOtB,GAElBuB,QAAQC,IAAI,sBAEZ,IAAI,IAAIC,EAAI,EAAGA,GAAKvB,EAAcuB,GAAK,EAAG,CACzBtB,EAAcsB,EAAGL,GACzBM,MAAK,SAAAC,G,IAAEvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,MACxBV,EAAAiC,OAAOC,QAAQ,wBAA4CC,OAAlB1B,EAAS,WAAe0B,OAANzB,EAAM,M,IAC/D0B,OAAM,SAAAJ,G,IAAEvB,EAAQuB,EAARvB,SAAUC,EAAKsB,EAALtB,MACpB,OAAOV,EAAAiC,OAAOI,QAAQ,uBAAyCF,OAAlB1B,EAAS,WAAe0B,OAANzB,EAAM,M,IAEtEe,GAAQE,OAAOrB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio'; //бібліотека замість alert\n\nconst promiseForm = document.querySelector('.form');\n\nlet VALUE_FIRST_DELAY = null;\nlet VALUE_DELAY_STEP = null;\nlet VALUE_AMOUNT = null;\n\nlet count = null;\n\n//-=--=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-\n\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n  setTimeout(() => {\n    if (shouldResolve) {\n      resolve({position, delay});\n         } else {\n      reject({position, delay});\n        }\n  }, delay);\n});}\n//-------------------------------------------------------------\n\npromiseForm.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const form = event.target.elements;\n  //можна дестриктуризувати: const {delay, step, amount} = event.target.elements;\n  \n  VALUE_FIRST_DELAY = form.delay.value;\n  VALUE_DELAY_STEP = form.step.value;\n  VALUE_AMOUNT = form.amount.value;\n  let step = Number(VALUE_FIRST_DELAY);\n\n  console.log('CLICK handleSubmit')\n\n  for(let i = 1; i <= VALUE_AMOUNT; i += 1) {\n   const promise = createPromise(i, step);\n   promise.then(({position, delay}) => {\n    Notify.success(`✅ Fulfilled promise '${position}' in - ${delay}ms`)\n   }).catch(({position, delay}) => {\n    return Notify.failure(`❌ Rejected promise '${position}' in - ${delay}ms`)\n   })\n   step += Number(VALUE_DELAY_STEP);\n  }\n}\n\n\n\n// event.target.reset();\n\n\n\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$promiseForm","document","querySelector","$ce04d3a99e08e73b$var$VALUE_FIRST_DELAY","$ce04d3a99e08e73b$var$VALUE_DELAY_STEP","$ce04d3a99e08e73b$var$VALUE_AMOUNT","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","event","preventDefault","form","target","elements","value","step","amount","Number","console","log","i","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.1e90fccc.js.map"}